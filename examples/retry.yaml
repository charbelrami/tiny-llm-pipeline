# yaml-language-server: $schema=../schema.json
steps:
  - type: set
    var: poem.topic
    value: rain
  - type: set
    var: prompt
    value: Write a poem about {{poem.topic}}.
  - type: llm
    model: openai
    from: prompt
    params: { model: "gpt-4o-mini", temperature: 0.7 }
    retry: { retries: 2, backoffMs: 250, jitter: 0.25, on: timeout }
    var: completion
  - type: output
    pick: completion
